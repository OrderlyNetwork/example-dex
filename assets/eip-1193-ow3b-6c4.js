class u extends Error{constructor(e){super(e.message),this.message=e.message,this.code=e.code,this.data=e.data}}const i=(s,e)=>{let n;s.request?n=s.request.bind(s):s.sendAsync&&(n=a(s));const d=async({method:t,params:c})=>{const o=t;if(e&&e[o]===null)throw new u({code:4200,message:`The Provider does not support the requested method: ${t}`});if(e&&e[o])return e[o]({baseRequest:n,params:c});if(n)return n({method:t,params:c});throw new u({code:4200,message:`The Provider does not support the requested method: ${t}`})};return s.request=d,s},a=s=>({method:e,params:n})=>new Promise((d,t)=>{s.sendAsync({id:0,jsonrpc:"2.0",method:e,params:n},(c,{result:o})=>{c?t(JSON.parse(c)):d(o??null)})});export{u as P,i as c};
